"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[887],{64950:(e,t,o)=>{o.d(t,{db:()=>i});var a=o(7908),r=o(93715),s=o(89685);const n=(0,a.Wp)({apiKey:"AIzaSyCV0xbbWzrNMGeFcCSa3bczqtIhnJod3pc",authDomain:"attendsure-7cfb4.firebaseapp.com",projectId:"attendsure-7cfb4",storageBucket:"attendsure-7cfb4.firebasestorage.app",messagingSenderId:"1039623051973",appId:"1:1039623051973:web:a9a6cb9726981483f0eeac",measurementId:"G-P9XJ2M7TDH"}),i=(0,r.aU)(n);(0,s.c7)(n)},97887:(e,t,o)=>{o.r(t),o.d(t,{default:()=>A});var a=o(36665),r=o(90932),s=o(42907),n=o(73929),i=o(6283),d=o(40484),c=o(73668),l=o(11775);const g=c.A.create({body:{fontSize:15,paddingHorizontal:15,fontFamily:"Poppins_400Regular",marginTop:10,color:l.A.lightBlack},box:{margin:10,shadowColor:l.A.primary,elevation:10,backgroundColor:l.A.white,paddingVertical:15,borderRadius:10,shadowOpacity:.25},container:{flex:1,backgroundColor:l.A.white,paddingVertical:5},date:{fontFamily:"Poppins_300Light",fontSize:12,color:l.A.lightBlack,marginTop:-6},image:{width:45,height:45,borderRadius:50,marginRight:10},header:{borderBottomColor:l.A.lightPrimary,borderBottomWidth:1,paddingHorizontal:15,paddingBottom:10,flexDirection:"row"},headerInfo:{display:"flex",justifyContent:"center"},icon:{backgroundColor:l.A.white,borderRadius:50,shadowOpacity:.2,elevation:5,marginHorizontal:10,padding:5,borderWidth:.5},iconContainer:{marginTop:10,flexDirection:"row",justifyContent:"flex-end"},name:{fontSize:18,fontFamily:"Poppins_500Medium"},statusText:{fontFamily:"Poppins_400Regular",fontSize:14,marginLeft:"auto",marginRight:10}});var h=o(42061),p=o(68519),u=o(15648),b=o(60397);const m=({icon:e,color:t,onPress:o})=>(0,b.jsx)(u.A,{onPress:o,children:(0,b.jsx)(n.A,{style:[g.icon,{shadowColor:t.dark,borderColor:t.light}],children:(0,b.jsx)(p.g,{icon:e,size:25,color:t.dark})})});var y=o(93715),x=o(64950);const f=({id:e,date:t,message:o,status:r,student:s})=>{const[c,p]=(0,a.useState)({}),[u,f]=(0,a.useState)(r),A=async t=>{const o=(0,y.H9)(x.db,"leave_appeals",e);try{await(0,y.mZ)(o,{status:t}),f(t)}catch(e){console.log(e)}};return(0,a.useEffect)((()=>{(async()=>{const e=(0,y.H9)(x.db,"users",s);try{const t=await(0,y.x7)(e);t.exists()?p(t.data()):console.log("No such document!")}catch(e){console.log(e)}})()}),[]),(0,b.jsxs)(n.A,{style:g.box,children:[(0,b.jsxs)(n.A,{style:g.header,children:[(0,b.jsx)(d.A,{style:g.image,source:{uri:c?.image}}),(0,b.jsxs)(n.A,{style:g.headerInfo,children:[(0,b.jsx)(i.A,{style:g.name,children:c?.name}),(0,b.jsx)(i.A,{style:g.date,children:t.toDate().toString().substring(0,15)})]})]}),(0,b.jsxs)(n.A,{style:g.body,children:[(0,b.jsx)(i.A,{style:g.bodyText,children:o}),""===u?(0,b.jsxs)(n.A,{style:g.iconContainer,children:[(0,b.jsx)(m,{icon:h.GRI,onPress:()=>A("rejected"),color:{dark:l.A.red,light:l.A.lightRed}}),(0,b.jsx)(m,{icon:h.e68,onPress:()=>{A("approved")},color:{dark:l.A.green,light:l.A.lightGreen}})]}):(0,b.jsx)(n.A,{children:(0,b.jsx)(i.A,{style:[g.statusText,{color:"approved"===u?l.A.green:l.A.red}],children:u})})]})]})},A=()=>{const[e,t]=(0,a.useState)([]);return(0,a.useEffect)((()=>{(async()=>{const e=(0,y.rJ)(x.db,"leave_appeals"),o=(0,y.P)(e,(0,y.My)("date","desc"));(0,y.aQ)(o,(e=>{const o=e.docs.map((e=>Object.assign({},e.data(),{id:e.id})));t(o),console.log(o)}))})(),s.A.ignoreLogs(["Setting a timer"])}),[]),(0,b.jsx)(r.A,{style:g.container,renderItem:({item:e})=>(0,b.jsx)(f,Object.assign({},e)),data:e,keyExtractor:e=>e.id.toString()})}}}]);
//# sourceMappingURL=887.660cab64.chunk.js.map
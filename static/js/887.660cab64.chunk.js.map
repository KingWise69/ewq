{"version":3,"file":"static/js/887.660cab64.chunk.js","mappings":"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","sources":["config/firebase.js","src/styles/leave_appeal.js","src/components/LeaveAppealIcon.js","src/components/LeaveAppealItem.js","src/screens/BrowseLeaveAppeals.js"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport { getFirestore } from \"firebase/firestore\";\nimport { getStorage } from \"firebase/storage\";\n\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCV0xbbWzrNMGeFcCSa3bczqtIhnJod3pc\",\n  authDomain: \"attendsure-7cfb4.firebaseapp.com\",\n  projectId: \"attendsure-7cfb4\",\n  storageBucket: \"attendsure-7cfb4.firebasestorage.app\",\n  messagingSenderId: \"1039623051973\",\n  appId: \"1:1039623051973:web:a9a6cb9726981483f0eeac\",\n  measurementId: \"G-P9XJ2M7TDH\"\n};\nconst app = initializeApp(firebaseConfig);\nexport const db = getFirestore(app);\nexport const st = getStorage(app);\n","import { StyleSheet } from \"react-native\";\nimport colors from \"../../config/colors\";\n\nconst styles = StyleSheet.create({\n  body: {\n    fontSize: 15,\n    paddingHorizontal: 15,\n    fontFamily: \"Poppins_400Regular\",\n    marginTop: 10,\n    color: colors.lightBlack,\n  },\n  box: {\n    margin: 10,\n    shadowColor: colors.primary,\n    elevation: 10,\n    backgroundColor: colors.white,\n    paddingVertical: 15,\n    borderRadius: 10,\n    shadowOpacity: 0.25,\n  },\n  container: {\n    flex: 1,\n    backgroundColor: colors.white,\n    paddingVertical: 5,\n  },\n  date: {\n    fontFamily: \"Poppins_300Light\",\n    fontSize: 12,\n    color: colors.lightBlack,\n    marginTop: -6,\n  },\n  image: {\n    width: 45,\n    height: 45,\n    borderRadius: 50,\n    marginRight: 10,\n  },\n  header: {\n    borderBottomColor: colors.lightPrimary,\n    borderBottomWidth: 1,\n    paddingHorizontal: 15,\n    paddingBottom: 10,\n    flexDirection: \"row\",\n  },\n  headerInfo: {\n    display: \"flex\",\n    justifyContent: \"center\",\n  },\n  icon: {\n    backgroundColor: colors.white,\n    borderRadius: 50,\n    shadowOpacity: 0.2,\n    elevation: 5,\n    marginHorizontal: 10,\n    padding: 5,\n    borderWidth: 0.5,\n  },\n  iconContainer: {\n    marginTop: 10,\n    flexDirection: \"row\",\n    justifyContent: \"flex-end\",\n  },\n  name: {\n    fontSize: 18,\n    fontFamily: \"Poppins_500Medium\",\n  },\n  statusText: {\n    fontFamily: \"Poppins_400Regular\",\n    fontSize: 14,\n    marginLeft: \"auto\",\n    marginRight: 10,\n  },\n});\n\nexport default styles;\n","import { FontAwesomeIcon } from \"@fortawesome/react-native-fontawesome\";\nimport { View, TouchableOpacity } from \"react-native\";\nimport styles from \"../styles/leave_appeal\";\n\nconst Icon = ({ icon, color, onPress }) => {\n  return (\n    <TouchableOpacity onPress={onPress}>\n      <View\n        style={[\n          styles.icon,\n          {\n            shadowColor: color.dark,\n            borderColor: color.light,\n          },\n        ]}\n      >\n        <FontAwesomeIcon icon={icon} size={25} color={color.dark} />\n      </View>\n    </TouchableOpacity>\n  );\n};\n\nexport default Icon;\n","import { View, Text, Image } from \"react-native\";\nimport styles from \"../styles/leave_appeal\";\nimport { faCheck, faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport colors from \"../../config/colors\";\nimport Icon from \"./LeaveAppealIcon\";\nimport { doc, getDoc, updateDoc } from \"firebase/firestore\";\nimport { db } from \"../../config/firebase\";\nimport { useEffect, useState } from \"react\";\n\nconst LeaveAppealItem = ({ id, date, message, status, student }) => {\n  const [studentDetails, setStudentDetails] = useState({});\n  const [appealStatus, setAppealStatus] = useState(status);\n\n  const getStudentDetails = async () => {\n    const docRef = doc(db, \"users\", student);\n    try {\n      const docSnap = await getDoc(docRef);\n      if (docSnap.exists()) {\n        setStudentDetails(docSnap.data());\n      } else {\n        console.log(\"No such document!\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const updateAppealStatus = async (status) => {\n    const docRef = doc(db, \"leave_appeals\", id);\n\n    try {\n      await updateDoc(docRef, {\n        status: status,\n      });\n      setAppealStatus(status);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    getStudentDetails();\n  }, []);\n\n  return (\n    <View style={styles.box}>\n      <View style={styles.header}>\n        <Image style={styles.image} source={{ uri: studentDetails?.image }} />\n        <View style={styles.headerInfo}>\n          <Text style={styles.name}>{studentDetails?.name}</Text>\n          <Text style={styles.date}>\n            {date.toDate().toString().substring(0, 15)}\n          </Text>\n        </View>\n      </View>\n      <View style={styles.body}>\n        <Text style={styles.bodyText}>{message}</Text>\n\n        {appealStatus === \"\" ? (\n          <View style={styles.iconContainer}>\n            <Icon\n              icon={faTimes}\n              onPress={() => updateAppealStatus(\"rejected\")}\n              color={{ dark: colors.red, light: colors.lightRed }}\n            />\n            <Icon\n              icon={faCheck}\n              onPress={() => {\n                updateAppealStatus(\"approved\");\n              }}\n              color={{ dark: colors.green, light: colors.lightGreen }}\n            />\n          </View>\n        ) : (\n          <View>\n            <Text\n              style={[\n                styles.statusText,\n                {\n                  color:\n                    appealStatus === \"approved\" ? colors.green : colors.red,\n                },\n              ]}\n            >\n              {appealStatus}\n            </Text>\n          </View>\n        )}\n      </View>\n    </View>\n  );\n};\n\nexport default LeaveAppealItem;\n","import React from \"react\";\nimport { FlatList, LogBox } from \"react-native\";\nimport LeaveAppealItem from \"../components/LeaveAppealItem\";\nimport styles from \"../styles/leave_appeal\";\nimport { collection, onSnapshot, query, orderBy } from \"firebase/firestore\";\nimport { db } from \"../../config/firebase\";\nimport { useEffect, useState } from \"react\";\n\nconst BrowseLeaveAppeals = () => {\n  const [appeals, setAppeals] = useState([]);\n\n  const getAppeals = async () => {\n    const appealsRef = collection(db, \"leave_appeals\");\n    const q = query(appealsRef, orderBy(\"date\", \"desc\"));\n\n    onSnapshot(q, (snapshot) => {\n      const items = snapshot.docs.map((doc) => ({\n        ...doc.data(),\n        id: doc.id,\n      }));\n\n      setAppeals(items);\n      console.log(items);\n    });\n  };\n\n  useEffect(() => {\n    getAppeals();\n\n    // Ignore the warning about the setting a timer\n    LogBox.ignoreLogs([\"Setting a timer\"]);\n  }, []);\n\n  return (\n    <FlatList\n      style={styles.container}\n      renderItem={({ item }) => <LeaveAppealItem {...item} />}\n      data={appeals}\n      keyExtractor={(item) => item.id.toString()}\n    />\n  );\n};\n\nexport default BrowseLeaveAppeals;\n"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","getFirestore","getStorage","StyleSheet","create","body","fontSize","paddingHorizontal","fontFamily","marginTop","color","colors","lightBlack","box","margin","shadowColor","primary","elevation","backgroundColor","white","paddingVertical","borderRadius","shadowOpacity","container","flex","date","image","width","height","marginRight","header","borderBottomColor","lightPrimary","borderBottomWidth","paddingBottom","flexDirection","headerInfo","display","justifyContent","icon","marginHorizontal","padding","borderWidth","iconContainer","name","statusText","marginLeft","Icon","onPress","_jsx","TouchableOpacity","children","View","style","styles","dark","borderColor","light","FontAwesomeIcon","size","LeaveAppealItem","id","message","status","student","studentDetails","setStudentDetails","useState","appealStatus","setAppealStatus","updateAppealStatus","async","docRef","doc","updateDoc","err","console","log","useEffect","docSnap","getDoc","exists","data","error","getStudentDetails","_jsxs","Image","source","uri","Text","toDate","toString","substring","bodyText","faTimes","red","lightRed","faCheck","green","lightGreen","BrowseLeaveAppeals","appeals","setAppeals","appealsRef","collection","q","query","orderBy","onSnapshot","snapshot","items","docs","map","Object","assign","getAppeals","LogBox","ignoreLogs","FlatList","renderItem","item","keyExtractor"],"sourceRoot":""}